Index: app/src/main/java/koreanlearning/hangul/serokorean/beginnerone/quiz/QuestionActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package koreanlearning.hangul.serokorean.beginnerone.quiz;\n\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.CountDownTimer;\nimport android.support.annotation.NonNull;\nimport android.support.design.widget.TabLayout;\nimport android.support.v4.view.ViewPager;\nimport android.support.v7.widget.GridLayoutManager;\nimport android.support.v7.widget.RecyclerView;\nimport android.view.View;\nimport android.support.v4.view.GravityCompat;\nimport android.support.v7.app.ActionBarDrawerToggle;\nimport android.view.MenuItem;\nimport android.support.design.widget.NavigationView;\nimport android.support.v4.widget.DrawerLayout;\n\nimport android.support.v7.app.AppCompatActivity;\nimport android.support.v7.widget.Toolbar;\nimport android.view.Menu;\nimport android.view.WindowManager;\nimport android.widget.TextView;\n\nimport com.afollestad.materialdialogs.DialogAction;\nimport com.afollestad.materialdialogs.MaterialDialog;\nimport com.github.javiersantos.materialstyleddialogs.MaterialStyledDialog;\nimport com.hangul.serokorean.R;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.ArrayList;\nimport java.util.List;\nimport koreanlearning.hangul.serokorean.beginnerone.quiz.Model.CurrentQuestion;\nimport koreanlearning.hangul.serokorean.beginnerone.quiz.Model.Question;\nimport koreanlearning.hangul.serokorean.beginnerone.quiz.adapter.AnswerSheetAdapter;\nimport koreanlearning.hangul.serokorean.beginnerone.quiz.adapter.QuestionFragmentsAdapter;\nimport koreanlearning.hangul.serokorean.beginnerone.quiz.common.QuizCommon;\n\npublic class QuestionActivity extends AppCompatActivity\n        implements NavigationView.OnNavigationItemSelectedListener {\n\n    private RecyclerView answer_sheet_view;\n    private AnswerSheetAdapter answerSheetAdapter;\n\n    private TextView txt_right_answer;\n    private ViewPager viewPager;\n    private TabLayout tabLayout;\n\n    @Override\n    protected void onDestroy() {\n        if(QuizCommon.countDownTimer != null){\n            QuizCommon.countDownTimer.cancel();\n        }\n        super.onDestroy();\n    }\n\n    public void fullScreencall() {\n        if(Build.VERSION.SDK_INT < 19){\n            View v = this.getWindow().getDecorView();\n            v.setSystemUiVisibility(View.GONE);\n        } else {\n            //for higher api versions.\n            View decorView = getWindow().getDecorView();\n            int uiOptions = View.SYSTEM_UI_FLAG_HIDE_NAVIGATION | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY;\n            decorView.setSystemUiVisibility(uiOptions);\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        }\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        fullScreencall();\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_question);\n//        Toolbar toolbar = findViewById(R.id.toolbar);\n//        toolbar.setTitle(QuizCommon.selectedCategory.getName());\n//        setSupportActionBar(toolbar);\n//        DrawerLayout drawer = findViewById(R.id.drawer_layout);\n//        NavigationView navigationView = findViewById(R.id.nav_view);\n//        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n//                this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n//        drawer.addDrawerListener(toggle);\n//        toggle.syncState();\n//        navigationView.setNavigationItemSelectedListener(this);\n        \n        //take questions from JSON\n        Bundle bundle = getIntent().getExtras();\n        int level = bundle.getInt(\"level\");\n        int chapter = bundle.getInt(\"chapter\");\n        importQuestion(level, chapter);\n\n        if(QuizCommon.questionList.size() > 0){\n\n            //show textView right answer\n            txt_right_answer = findViewById(R.id.txt_question_right);\n            txt_right_answer.setVisibility(View.VISIBLE);\n            txt_right_answer.setText(new StringBuilder(String.format(\"%d/%d\", QuizCommon.right_answer_count, QuizCommon.questionList.size())));\n\n            //view\n            answer_sheet_view = findViewById(R.id.grid_answer);\n            answer_sheet_view.setHasFixedSize(true);\n            if(QuizCommon.questionList.size() > 5){ // if question list have size > 5, we will sperate 2 rows\n                answer_sheet_view.setLayoutManager(new GridLayoutManager(this, QuizCommon.questionList.size()/2));\n            }\n            answerSheetAdapter = new AnswerSheetAdapter(this, QuizCommon.answerSheetList);\n            answer_sheet_view.setAdapter(answerSheetAdapter);\n            \n            viewPager = findViewById(R.id.quizViewpager);\n            tabLayout = findViewById(R.id.sliding_tabs);\n            \n            genFragmentList();\n            QuestionFragmentsAdapter questionFragmentsAdapter = new QuestionFragmentsAdapter(getSupportFragmentManager(), this, QuizCommon.fragmentsList);\n            viewPager.setAdapter(questionFragmentsAdapter);\n\n            tabLayout.setupWithViewPager(viewPager);\n\n            // event\n            viewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {\n                int SCROLLINNG_RIGHT = 0;\n                int SCROLLINNG_LEFT = 1;\n                int SCROLLINNG_UNDETERMINDED = 2;\n                int currentScrollDirection = 2;\n\n                private void setScrollingDirection(float positionOffset){\n                    if((1-positionOffset) >= 0.5){\n                        this.currentScrollDirection = SCROLLINNG_RIGHT;\n                    }\n                    else if((1-positionOffset) <= 0.5){\n                        this.currentScrollDirection = SCROLLINNG_LEFT;\n                    }\n                }\n\n                private boolean isScrollDirectionUndetermined(){\n                    return currentScrollDirection == SCROLLINNG_UNDETERMINDED;\n                }\n\n                private boolean isScrollingRight(){\n                    return currentScrollDirection == SCROLLINNG_RIGHT;\n                }\n\n                private boolean isScrollingLeft(){\n                    return currentScrollDirection == SCROLLINNG_LEFT;\n                }\n\n                @Override\n                public void onPageScrolled(int i, float v, int i1) {\n                    if(isScrollDirectionUndetermined()){\n                        setScrollingDirection(v);\n                    }\n                }\n\n                @Override\n                public void onPageSelected(int i) {\n                    QuestionFragment questionFragment;\n                    int position = 0;\n                    if(i > 0){\n                        if(isScrollingRight()){\n                            // get previous when user scroll right\n                            questionFragment = QuizCommon.fragmentsList.get(i-1);\n                            position = i-1;\n                        }\n                        else if(isScrollingLeft()){\n                            // get next when user scroll left\n                            questionFragment = QuizCommon.fragmentsList.get(i+1);\n                            position = i+1;\n                        }\n                        else{\n                            questionFragment = QuizCommon.fragmentsList.get(position);\n                        }\n                    }\n                    else{\n                        questionFragment = QuizCommon.fragmentsList.get(0);\n                        position = 0;\n                    }\n\n                    //if you want to show correct answer, just call function here\n                    CurrentQuestion question_state = questionFragment.getSelectedAnswer();\n                    QuizCommon.answerSheetList.set(position, question_state);\n                    answerSheetAdapter.notifyDataSetChanged(); // change color in answer sheet\n\n                    countCorrectAnswer();\n                    txt_right_answer.setText(new StringBuilder(String.format(\"%d\", QuizCommon.right_answer_count))\n                            .append(\"/\")\n                            .append(String.format(\"%d\", QuizCommon.questionList.size())).toString());\n\n                    if(question_state.getType() != QuizCommon.ANSWER_TYPE.NO_ANSWER){\n                        questionFragment.showCorrectAnswer();\n                        questionFragment.disableAnswer();\n                    }\n                }\n\n                @Override\n                public void onPageScrollStateChanged(int i) {\n                    if(i == ViewPager.SCROLL_STATE_IDLE){\n                        this.currentScrollDirection = SCROLLINNG_UNDETERMINDED;\n                    }\n                }\n\n\n            });\n        }\n    }\n\n    private void countCorrectAnswer() {\n        // reset variable\n        QuizCommon.right_answer_count = QuizCommon.wrong_answer_counnt = 0;\n        for(CurrentQuestion item : QuizCommon.answerSheetList){\n            if(item.getType() == QuizCommon.ANSWER_TYPE.RIGHT_ANSWER){\n                QuizCommon.right_answer_count++;\n            }\n            else if(item.getType() == QuizCommon.ANSWER_TYPE.WRONG_ANSWER){\n                QuizCommon.wrong_answer_counnt++;\n            }\n        }\n    }\n\n    private void genFragmentList() {\n        for(int i = 0; i< QuizCommon.questionList.size(); ++i){\n            Bundle bundle = new Bundle();\n            bundle.putInt(\"index\", i);\n            QuestionFragment fragment = new QuestionFragment();\n            fragment.setArguments(bundle);\n\n            QuizCommon.fragmentsList.add(fragment);\n        }\n    }\n\n    private void importQuestion(int level, int chapter){\n        StringBuilder quizName = new StringBuilder();\n        quizName.append(\"level\");\n        quizName.append(Integer.toString(level));\n        quizName.append(\"chapter\");\n        quizName.append(Integer.toString(chapter));\n        quizName.append(\".json\");\n        String jsonString = loadJsonFromAssert(quizName.toString());\n        List<Question> questionList = new ArrayList<>();\n\n        try{\n            JSONObject jsonObject = new JSONObject(jsonString);\n            JSONArray questions = jsonObject.getJSONArray(\"questions\");\n            for(int i=0; i<questions.length(); ++i){\n                JSONObject questionObj = questions.getJSONObject(i);\n\n                String questionText = questionObj.getString(\"question\");\n                int id = questionObj.getInt(\"id\");\n                String answerA = questionObj.getString(\"answerA\");\n                String answerB = questionObj.getString(\"answerB\");\n                String answerC = questionObj.getString(\"answerC\");\n                String answerD = questionObj.getString(\"answerD\");\n                String correctAns = questionObj.getString(\"correct_answer\");\n                questionList.add(new Question(id, questionText, answerA, answerB, answerC, answerD, correctAns));\n            }\n\n            QuizCommon.questionList = questionList;\n\n            if(QuizCommon.questionList.size() == 0){\n                //if there is no question\n                new MaterialStyledDialog.Builder(this)\n                        .setTitle(\"There is no question\")\n                        .setIcon(R.drawable.lb_ic_shuffle)\n                        .setDescription(\"We don't have any question in this\" + QuizCommon.selectedCategory.getName() + \" category\")\n                        .setPositiveText(\"OK\")\n                        .onPositive(new MaterialDialog.SingleButtonCallback() {\n                            @Override\n                            public void onClick(@NonNull MaterialDialog dialog, @NonNull DialogAction which) {\n                                dialog.dismiss();\n                                finish();\n                            }\n                        }).show();\n            }\n            else {\n                //generate answerSheet item from question\n                if(QuizCommon.answerSheetList.size() > 0){\n                    QuizCommon.answerSheetList.clear();\n                }\n\n                for(int i = 0; i< QuizCommon.questionList.size(); i++){\n                    QuizCommon.answerSheetList.add(new CurrentQuestion(i, QuizCommon.ANSWER_TYPE.NO_ANSWER));\n                }\n            }\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private String loadJsonFromAssert(String file){\n        String json = \"\";\n        try{\n            InputStream inputStream = getAssets().open(file);\n            int size = inputStream.available();\n            byte[] buffer = new byte[size];\n            inputStream.read(buffer);\n            inputStream.close();\n            json = new String(buffer, \"UTF-8\");\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return json;\n    }\n\n//    @Override\n//    public void onBackPressed() {\n//        DrawerLayout drawer = findViewById(R.id.drawer_layout);\n//        if (drawer.isDrawerOpen(GravityCompat.START)) {\n//            drawer.closeDrawer(GravityCompat.START);\n//        } else {\n//            super.onBackPressed();\n//        }\n//    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.question, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        // Handle action bar item clicks here. The action bar will\n        // automatically handle clicks on the Home/Up button, so long\n        // as you specify a parent activity in AndroidManifest.xml.\n        int id = item.getItemId();\n\n        //noinspection SimplifiableIfStatement\n        if (id == R.id.action_settings) {\n            return true;\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n\n    @SuppressWarnings(\"StatementWithEmptyBody\")\n    @Override\n    public boolean onNavigationItemSelected(MenuItem item) {\n        // Handle navigation view item clicks here.\n        int id = item.getItemId();\n\n        if (id == R.id.nav_home) {\n            // Handle the camera action\n        } else if (id == R.id.nav_gallery) {\n\n        } else if (id == R.id.nav_slideshow) {\n\n        } else if (id == R.id.nav_tools) {\n\n        } else if (id == R.id.nav_share) {\n\n        } else if (id == R.id.nav_send) {\n\n        }\n\n//        DrawerLayout drawer = findViewById(R.id.drawer_layout);\n//        drawer.closeDrawer(GravityCompat.START);\n        return true;\n    }\n\n    //    private void takeQuestion() {\n//        QuizCommon.questionList = DBhelper.getInstance(this).getQuestionByCategory(QuizCommon.selectedCategory.getId());\n//\n//        if(QuizCommon.questionList.size() == 0){\n//            //if there is no question\n//            new MaterialStyledDialog.Builder(this)\n//                    .setTitle(\"There is no question\")\n//                    .setIcon(R.drawable.lb_ic_shuffle)\n//                    .setDescription(\"We don't have any question in this\" + QuizCommon.selectedCategory.getName() + \" category\")\n//                    .setPositiveText(\"OK\")\n//                    .onPositive(new MaterialDialog.SingleButtonCallback() {\n//                        @Override\n//                        public void onClick(@NonNull MaterialDialog dialog, @NonNull DialogAction which) {\n//                            dialog.dismiss();\n//                            finish();\n//                        }\n//                    }).show();\n//        }\n//        else {\n//            //generate answerSheet item from question\n//\n//            if(QuizCommon.answerSheetList.size() > 0){\n//                QuizCommon.answerSheetList.clear();\n//            }\n//\n//            for(int i = 0; i< QuizCommon.questionList.size(); i++){\n//                QuizCommon.answerSheetList.add(new CurrentQuestion(i, QuizCommon.ANSWER_TYPE.NO_ANSWER));\n//            }\n//        }\n//    }\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/koreanlearning/hangul/serokorean/beginnerone/quiz/QuestionActivity.java	(revision 90d8c561e44512abbc335c50c718387c3038140e)
+++ app/src/main/java/koreanlearning/hangul/serokorean/beginnerone/quiz/QuestionActivity.java	(date 1571477458000)
@@ -115,6 +115,7 @@
             genFragmentList();
             QuestionFragmentsAdapter questionFragmentsAdapter = new QuestionFragmentsAdapter(getSupportFragmentManager(), this, QuizCommon.fragmentsList);
             viewPager.setAdapter(questionFragmentsAdapter);
+            viewPager.setOffscreenPageLimit(QuizCommon.questionList.size()-1);
 
             tabLayout.setupWithViewPager(viewPager);
 
@@ -156,7 +157,7 @@
                 @Override
                 public void onPageSelected(int i) {
                     QuestionFragment questionFragment;
-                    int position = 0;
+                    int position = i;
                     if(i > 0){
                         if(isScrollingRight()){
                             // get previous when user scroll right
@@ -179,10 +180,14 @@
 
                     //if you want to show correct answer, just call function here
                     CurrentQuestion question_state = questionFragment.getSelectedAnswer();
-                    QuizCommon.answerSheetList.set(position, question_state);
-                    answerSheetAdapter.notifyDataSetChanged(); // change color in answer sheet
-
-                    countCorrectAnswer();
+                    if(!questionFragment.getAlreadyVisited()){
+                        QuizCommon.answerSheetList.set(position, question_state);
+                        answerSheetAdapter.notifyDataSetChanged();
+                        if(!question_state.getType().equals(QuizCommon.ANSWER_TYPE.NO_ANSWER)){
+                            questionFragment.setAlreadyVisited(true);// change color in answer sheet
+                        }
+                        countCorrectAnswer();
+                    }
                     txt_right_answer.setText(new StringBuilder(String.format("%d", QuizCommon.right_answer_count))
                             .append("/")
                             .append(String.format("%d", QuizCommon.questionList.size())).toString());
Index: app/src/main/java/koreanlearning/hangul/serokorean/beginnerone/webview/BeginnerOneWebView.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package koreanlearning.hangul.serokorean.beginnerone.webview;\n\nimport android.content.Intent;\nimport android.os.Build;\nimport android.support.v4.app.Fragment;\nimport android.support.v4.app.FragmentManager;\nimport android.support.v4.app.FragmentPagerAdapter;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.view.WindowManager;\nimport android.webkit.PermissionRequest;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebResourceRequest;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\nimport com.hangul.serokorean.R;\nimport java.util.ArrayList;\n\nimport koreanlearning.hangul.serokorean.beginnerone.quiz.QuestionActivity;\n\n\npublic class BeginnerOneWebView extends AppCompatActivity implements ParentRequestInterface{\n\n    private SectionsPagerAdapter sectionsPagerAdapter;\n    private CustomViewPager customViewPager;\n    private int numberOfPages = 0;\n    private int currentChapterNum = 0;\n    private String currentChapter = \"\";\n\n    public void fullScreencall() {\n        if(Build.VERSION.SDK_INT < 19){\n            View v = this.getWindow().getDecorView();\n            v.setSystemUiVisibility(View.GONE);\n        } else {\n            //for higher api versions.\n            View decorView = getWindow().getDecorView();\n            int uiOptions = View.SYSTEM_UI_FLAG_HIDE_NAVIGATION | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY;\n            decorView.setSystemUiVisibility(uiOptions);\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        }\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        fullScreencall();\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main_webview_test);\n\n        //bundle gets passed in parameters when chapters' onClick from the Home\n        Bundle bundle = getIntent().getExtras();\n        StringBuilder stringBuilderPageNum = new StringBuilder();\n        StringBuilder stringBuilderChapNum = new StringBuilder();\n\n        //check bundle to see if it's null\n        if(bundle == null){\n//            textView.setText(\"bundle error\");\n        }\n        //if not, stores the parameters are passed in\n        else{\n            //bundle is like a Map, matches key and stores the value\n            numberOfPages = bundle.getInt(\"pages\");\n            currentChapter = bundle.getString(\"chapter\");\n//            isPrevious = bundle.getInt(\"previous\");\n            stringBuilderPageNum.append(bundle.getString(\"chapter\"));\n            stringBuilderPageNum.append(\" number of pages:\");\n            stringBuilderPageNum.append(Integer.toString(bundle.getInt(\"pages\")));\n\n            //check the length of the string, and gets the number as a substring, 0-9\n            if(currentChapter.length()<=9){\n                stringBuilderChapNum.append(currentChapter.substring(8,9));\n            }\n            //number greater than 9\n            else{\n                stringBuilderChapNum.append(currentChapter.substring(8,10));\n            }\n            currentChapterNum = Integer.parseInt(stringBuilderChapNum.toString());\n        }\n\n        // Create the adapter that will return a fragment for each. primary sections of the activity.\n        sectionsPagerAdapter = new SectionsPagerAdapter(getSupportFragmentManager(), customViewPager, this);\n\n        // Set up the ViewPager with the sections adapter.\n        customViewPager = (CustomViewPager) findViewById(R.id.container);\n        customViewPager.setAdapter(sectionsPagerAdapter);\n        customViewPager.setOffscreenPageLimit(2);\n    }\n\n\n    @Override\n    public void setViewPagerStatus(Boolean b) { customViewPager.setPagingEnabled(b); }\n\n    public static class PlaceholderFragment extends Fragment{\n\n        private static final String ARG_SECTION_NUMBER = \"section_number\";\n        private static final String CURRENT_CHAPTER = \"current_chapter\";\n        private static final String NUMBER_OF_PAGES = \"number_of_pages\";\n        private int position;\n        private int currentChapterNum;\n        private int numberOfPages;\n        private BeginnerOneWebView activity;\n        private CustomViewPager viewpager;\n        private BeginnerOneWebView parentActivity;\n\n        public static PlaceholderFragment newInstance(int position , int chapterNum, int numberOfPages) {\n            PlaceholderFragment fragment = new PlaceholderFragment();\n            Bundle args = new Bundle();\n            args.putInt(ARG_SECTION_NUMBER, position);\n            args.putInt(CURRENT_CHAPTER, chapterNum);\n            args.putInt(NUMBER_OF_PAGES, numberOfPages);\n            fragment.setArguments(args);\n            return fragment;\n        }\n\n        @Override\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n            Bundle arguments = getArguments();\n            String url=\"\";\n            String lastPage=\"\";\n            ArrayList<String> htmlFiles = new ArrayList<>();\n\n            position = arguments.getInt(ARG_SECTION_NUMBER);\n            currentChapterNum = arguments.getInt(CURRENT_CHAPTER);\n            numberOfPages = arguments.getInt(NUMBER_OF_PAGES);\n            parentActivity = (BeginnerOneWebView) getActivity();\n\n            View rootView = inflater.inflate(R.layout.fragment_main, container, false);\n            final CustomWebView webView = rootView.findViewById(R.id.webView);\n            webView.setFragment(this);\n\n            StringBuilder stringBuilder = new StringBuilder();\n            stringBuilder.append(\"file:///android_asset/level 1/chapter \");\n            stringBuilder.append(Integer.toString(currentChapterNum));\n            stringBuilder.append(\"/\");\n\n            for(int i=0; i<numberOfPages; ++i){\n                htmlFiles.add(stringBuilder.toString() + Integer.toString(i) + \".html\");\n            }\n\n            url = htmlFiles.get(position);\n            lastPage = htmlFiles.get(numberOfPages-1);\n\n            WebSettings settings = webView.getSettings();\n            settings.setAllowFileAccessFromFileURLs(true);\n            settings.setAllowUniversalAccessFromFileURLs(true);\n            settings.setMediaPlaybackRequiresUserGesture(false);\n            settings.setUseWideViewPort(true);\n            settings.setDomStorageEnabled(true);\n\n            webView.setWebChromeClient(new WebChromeClient());\n            webView.setScrollContainer(false);\n            webView.setVerticalScrollBarEnabled(false);\n            webView.setHorizontalScrollBarEnabled(false);\n            webView.setWebChromeClient(new WebChromeClient(){\n                @Override\n                public void onPermissionRequest(final PermissionRequest request) {\n                    request.grant(request.getResources());\n                }\n            });\n\n            webView.setWebViewClient(new WebViewClient(){\n                @Override\n                public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\n                    String url = request.getUrl().toString();\n                    if(url.contains(\"chapter\")){\n                        Intent intent = new Intent(getActivity(), QuestionActivity.class); //ChapterOneQuiz.class\n                        intent.putExtra(\"level\", Integer.parseInt(url.substring(12,13)));\n                        intent.putExtra(\"chapter\", Integer.parseInt(url.substring(20,21)));\n                        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK);\n                        startActivity(intent);\n                    }\n                    return true;\n                }\n            });\n\n            settings.setJavaScriptEnabled(true);\n            settings.setBuiltInZoomControls(true);\n            settings.setSupportZoom(true);\n            settings.setDisplayZoomControls(false);\n            settings.setLoadWithOverviewMode(true);\n            settings.setUseWideViewPort(false);\n\n            webView.loadUrl(url);\n            return rootView;\n        }\n\n        public void setViewPager(boolean b) {\n            parentActivity.setViewPagerStatus(b);\n        }\n        public void setActivity(BeginnerOneWebView activity) {\n            this.activity = activity;\n        }\n        public void setPager(CustomViewPager viewpager) {\n            this.viewpager = viewpager;\n        }\n        public PlaceholderFragment() { }\n    }\n\n    public class SectionsPagerAdapter extends FragmentPagerAdapter {\n\n        CustomViewPager viewPager;\n        BeginnerOneWebView activity;\n\n        public SectionsPagerAdapter(FragmentManager fm, CustomViewPager viewPager, BeginnerOneWebView activity) {\n            super(fm);\n            this.viewPager=viewPager;\n            this.activity=activity;\n        }\n\n        @Override\n        public Fragment getItem(int position) {\n            // getItem is called to instantiate the fragment for the given page.\n            // Return a PlaceholderFragment (defined as a static inner class below).\n            PlaceholderFragment fragment= PlaceholderFragment.newInstance(position, currentChapterNum, numberOfPages);\n            fragment.setActivity(activity);\n            fragment.setPager(viewPager);\n            return fragment;\n        }\n\n        @Override\n        public int getCount() { return numberOfPages; }\n    }\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/koreanlearning/hangul/serokorean/beginnerone/webview/BeginnerOneWebView.java	(revision 90d8c561e44512abbc335c50c718387c3038140e)
+++ app/src/main/java/koreanlearning/hangul/serokorean/beginnerone/webview/BeginnerOneWebView.java	(date 1571475869000)
@@ -17,6 +17,7 @@
 import android.webkit.WebSettings;
 import android.webkit.WebView;
 import android.webkit.WebViewClient;
+import android.widget.Toast;
 
 import com.hangul.serokorean.R;
 import java.util.ArrayList;
Index: app/src/main/java/koreanlearning/hangul/serokorean/beginnerone/quiz/QuestionFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package koreanlearning.hangul.serokorean.beginnerone.quiz;\n\nimport android.graphics.Color;\nimport android.graphics.Typeface;\nimport android.os.Bundle;\nimport android.support.v4.app.Fragment;\nimport android.text.TextUtils;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.CheckBox;\nimport android.widget.CompoundButton;\nimport android.widget.FrameLayout;\nimport android.widget.ImageView;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.hangul.serokorean.R;\n\nimport koreanlearning.hangul.serokorean.beginnerone.quiz.Model.CurrentQuestion;\nimport koreanlearning.hangul.serokorean.beginnerone.quiz.Model.Question;\nimport koreanlearning.hangul.serokorean.beginnerone.quiz.common.QuizCommon;\nimport koreanlearning.hangul.serokorean.beginnerone.quiz.quizInterface.IQuestion;\n\npublic class QuestionFragment extends Fragment implements IQuestion {\n\n    TextView txt_question_text;\n    CheckBox ckbA, ckbB, ckbC, ckbD;\n    FrameLayout layout_image;\n    ProgressBar progressBar;\n\n    Question question;\n    int questionIndex = -1;\n\n\n    public QuestionFragment() {\n        // Required empty public constructor\n    }\n\n    public static QuestionFragment newInstance(String param1, String param2) {\n        QuestionFragment fragment = new QuestionFragment();\n        Bundle args = new Bundle();\n\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View itemView = inflater.inflate(R.layout.fragment_question, container, false);\n\n        //get question\n        questionIndex = getArguments().getInt(\"index\", -1);\n        question = QuizCommon.questionList.get(questionIndex);\n\n        if(question != null){\n\n            layout_image = itemView.findViewById(R.id.layout_image);\n            progressBar = itemView.findViewById(R.id.progress_bar);\n\n            if(question.isImageQuestion()){\n                ImageView img_question = itemView.findViewById(R.id.img_question);\n                //TODO: Picasso.get().load(question.getQuestionImage()).into(img_question, new Callback())\n            }\n            else{\n                layout_image.setVisibility(View.GONE);\n            }\n\n\n            //view\n            txt_question_text = itemView.findViewById(R.id.txt_question_text);\n            txt_question_text.setText(question.getQuestionText());\n\n            ckbA = itemView.findViewById(R.id.ckbA);\n            ckbA.setText(question.getAnswerA());\n            ckbA.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n                @Override\n                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n                    if(isChecked){\n                        QuizCommon.selected_values.add(ckbA.getText().toString());\n                    }\n                    else{\n                        QuizCommon.selected_values.remove(ckbA.getText().toString());\n                    }\n                }\n            });\n\n            ckbB = itemView.findViewById(R.id.ckbB);\n            ckbB.setText(question.getAnswerB());\n            ckbB.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n                @Override\n                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n                    if(isChecked){\n                        QuizCommon.selected_values.add(ckbB.getText().toString());\n                    }\n                    else{\n                        QuizCommon.selected_values.remove(ckbB.getText().toString());\n                    }\n                }\n            });\n\n            ckbC = itemView.findViewById(R.id.ckbC);\n            ckbC.setText(question.getAnswerC());\n            ckbC.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n                @Override\n                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n                    if(isChecked){\n                        QuizCommon.selected_values.add(ckbC.getText().toString());\n                    }\n                    else{\n                        QuizCommon.selected_values.remove(ckbC.getText().toString());\n                    }\n                }\n            });\n\n            ckbD = itemView.findViewById(R.id.ckbD);\n            ckbD.setText(question.getAnswerD());\n            ckbD.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n                @Override\n                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n                    if(isChecked){\n                        QuizCommon.selected_values.add(ckbD.getText().toString());\n                    }\n                    else{\n                        QuizCommon.selected_values.remove(ckbD.getText().toString());\n                    }\n                }\n            });\n        }\n\n        // Inflate the layout for this fragment\n        return itemView;\n    }\n\n    @Override\n    public CurrentQuestion getSelectedAnswer() {\n        // it will return state of answer (right or wrong)\n        CurrentQuestion currentQuestion = new CurrentQuestion(questionIndex, QuizCommon.ANSWER_TYPE.NO_ANSWER);\n        StringBuilder result = new StringBuilder();\n        if(QuizCommon.selected_values.size() > 1){\n            // multiple choices' answer will be array\n            // ex. arr[0] = A. New York\n            // ex. arr[1] = B. Paris\n\n            Object[] arrayAnswer = QuizCommon.selected_values.toArray();\n            for(int i=0; i<arrayAnswer.length; ++i){\n                if(i < arrayAnswer.length -1){\n                    // Take first letter of the answer\n                    // ex. A. New York => only take A\n                    result.append(new StringBuilder(((String)arrayAnswer[i]).substring(0,1)).append(\",\"));\n                }\n                else{\n                    result.append(new StringBuilder((String)arrayAnswer[i]).substring(0,1));\n                }\n            }\n        }\n        else if(QuizCommon.selected_values.size() == 1){\n            Object[] arrayAnswer = QuizCommon.selected_values.toArray();\n            result.append((String)arrayAnswer[0]).substring(0,1);\n        }\n\n        if(question != null){\n            // compare correctAnswer with user answer\n            if(!TextUtils.isEmpty(result)){\n                if(result.toString().equals(question.getCorrectAnswer())){\n                    currentQuestion.setType(QuizCommon.ANSWER_TYPE.RIGHT_ANSWER);\n                }\n                else{\n                    currentQuestion.setType(QuizCommon.ANSWER_TYPE.WRONG_ANSWER);\n                }\n            }\n            else{\n                currentQuestion.setType(QuizCommon.ANSWER_TYPE.NO_ANSWER);\n            }\n        }\n        else{\n            Toast.makeText(getContext(), \"Cannot get quiz\", Toast.LENGTH_SHORT).show();\n        }\n        // always clear selected_value when it's done\n        QuizCommon.selected_values.clear();\n\n        return currentQuestion;\n    }\n\n    @Override\n    public void showCorrectAnswer() {\n        // bold correct answer\n        String[] correctAnswer = question.getCorrectAnswer().split(\",\");\n        for(String answer : correctAnswer){\n            if(answer.equals(\"A\")){\n                ckbA.setTypeface(null, Typeface.BOLD);\n                ckbA.setTextColor(Color.RED);\n            }\n            else if(answer.equals(\"B\")){\n                ckbB.setTypeface(null, Typeface.BOLD);\n                ckbB.setTextColor(Color.RED);\n            }\n            else if(answer.equals(\"C\")){\n                ckbC.setTypeface(null, Typeface.BOLD);\n                ckbC.setTextColor(Color.RED);\n            }\n            else if(answer.equals(\"D\")){\n                ckbD.setTypeface(null, Typeface.BOLD);\n                ckbD.setTextColor(Color.RED);\n            }\n        }\n    }\n\n    @Override\n    public void disableAnswer() {\n        ckbA.setEnabled(false);\n        ckbB.setEnabled(false);\n        ckbC.setEnabled(false);\n        ckbD.setEnabled(false);\n    }\n\n    @Override\n    public void resetQuestion() {\n\n        //enable checkbox\n        ckbA.setEnabled(true);\n        ckbB.setEnabled(true);\n        ckbC.setEnabled(true);\n        ckbD.setEnabled(true);\n\n        //remove all selected\n        ckbA.setChecked(false);\n        ckbB.setChecked(false);\n        ckbC.setChecked(false);\n        ckbD.setChecked(false);\n\n        //remove all bold on text\n        ckbA.setTypeface(null, Typeface.NORMAL);\n        ckbA.setTextColor(Color.BLACK);\n        ckbB.setTypeface(null, Typeface.NORMAL);\n        ckbB.setTextColor(Color.BLACK);\n        ckbC.setTypeface(null, Typeface.NORMAL);\n        ckbC.setTextColor(Color.BLACK);\n        ckbD.setTypeface(null, Typeface.NORMAL);\n        ckbD.setTextColor(Color.BLACK);\n    }\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/koreanlearning/hangul/serokorean/beginnerone/quiz/QuestionFragment.java	(revision 90d8c561e44512abbc335c50c718387c3038140e)
+++ app/src/main/java/koreanlearning/hangul/serokorean/beginnerone/quiz/QuestionFragment.java	(date 1571477011000)
@@ -29,6 +29,7 @@
     CheckBox ckbA, ckbB, ckbC, ckbD;
     FrameLayout layout_image;
     ProgressBar progressBar;
+    Boolean isAlreadyVisited = false;
 
     Question question;
     int questionIndex = -1;
@@ -46,6 +47,14 @@
         return fragment;
     }
 
+    public Boolean getAlreadyVisited() {
+        return isAlreadyVisited;
+    }
+
+    public void setAlreadyVisited(Boolean alreadyVisited) {
+        isAlreadyVisited = alreadyVisited;
+    }
+
     @Override
     public void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    package=\"com.hangul.serokorean\"\n    tools:ignore=\"ImpliedTouchscreenHardware,MissingLeanbackLauncher,MissingLeanbackSupport\">\n\n    <uses-permission android:name=\"android.permission.INTERNET\" />\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\n    <uses-permission android:name=\"android.permission.CAMERA\" />\n    <uses-permission android:name=\"android.permission.RECORD_AUDIO\" />\n    <uses-permission android:name=\"android.permission.MODIFY_AUDIO_SETTINGS\" />\n\n    <application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme2\">\n        <activity\n            android:name=\"koreanlearning.hangul.serokorean.beginnerone.quiz.QuestionActivity\"\n            android:label=\"@string/title_activity_question\"\n            android:theme=\"@style/AppTheme2.NoActionBar\"></activity>\n        <activity android:name=\"koreanlearning.hangul.serokorean.beginnerone.quiz.QuizCategories\" />\n        <activity android:name=\"koreanlearning.hangul.serokorean.search.Search\" />\n        <activity android:name=\"koreanlearning.hangul.serokorean.beginnerone.webview.BeginnerOneWebView\" />\n        <activity android:name=\"koreanlearning.hangul.serokorean.beginnerone.BeginnerOne\" />\n        <activity android:name=\"koreanlearning.hangul.serokorean.main.MainActivity\" />\n        <activity android:name=\"koreanlearning.hangul.serokorean.main.Welcome\">\n            <intent-filter>\n                <action android:name=\"android.intent.action.MAIN\" />\n\n                <category android:name=\"android.intent.category.LAUNCHER\" />\n            </intent-filter>\n        </activity>\n    </application>\n\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/AndroidManifest.xml	(revision 90d8c561e44512abbc335c50c718387c3038140e)
+++ app/src/main/AndroidManifest.xml	(date 1571462396000)
@@ -10,6 +10,7 @@
     <uses-permission android:name="android.permission.RECORD_AUDIO" />
     <uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS" />
 
+
     <application
         android:allowBackup="true"
         android:icon="@mipmap/ic_launcher"
